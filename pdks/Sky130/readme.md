
# Sky130 Hdl21

Hdl21 PDK package for the open-source SkyWater 130nm PDK.  
https://pypi.org/project/sky130-hdl21/


## About This Technology 

SkyWater 130nm is the first notable silicon PDK to be released as open-source software. 
The Sky130 effort is heavily community driven, with leadership from Google and eFabless.

Related Projects: 

* skywater-pdk 
* open_pdks
* the slack
* ... FIXME ...


## About this PDK Package

`sky130` defines a set of `hdl21.ExternalModule`s comprising the essential devices of the SkyWater 130nm open-source PDK, '
and an `compile` method for converting process-portable `hdl21.Primitive` elements into these modules. 

The complete 130nm design kit includes hundreds of devices. 
A subset are targets for conversion from generic Hdl21 `Primitives`. 
They include: 

* "Core" Mos transistors `sky130_fd_pr__{nfet,pfet}_01v8{,_lvt,_hvt}`

And may in the near future also include: 

* Resistors `sky130_fd_pr__res_*`
* Capacitors `sky130_fd_pr__cap_*`
* Bipolar Transistors `sky130_fd_pr__{npn,pnp}_*`
* Diodes, which the PDK provides as SPICE `.model` statements alone, and will correspondingly need to be `hdl21.Module`s. 

Remaining devices can be added directly to user-projects as `hdl21.ExternalModule`s, or can be added to this package via pull request.  


## Installation

Install from PyPi via: 

```
pip install sky130-hdl21
```

And then import the package as `sky130`: 

```python
import sky130
assert sky130.modules.sky130_fd_pr__nfet_01v8 is not None # etc
```


## PDK `Install` Data

Silicon process technologies generally require non-Python data to execute simulations and other tasks. Sky130 is no different. *Those files are not distributed as part of this package.* The `sky130` package defines an Hdl21 `PdkInstallation` type `sky130.Install`, which includes references to any such out-of-Python data, generally in the form of filesystem paths. See the [Hdl21 PDK docs](https://github.com/dan-fritchman/Hdl21#process-technologies) for more background. 

A helpful resource for installing the non-Python portions of the 130nm PDK: 
https://anaconda.org/litex-hub/open_pdks.sky130a

Installable with `conda` via: 

```
conda install -y -c litex-hub open_pdks.sky130a
```

Using the conda-based installation, a typical [sitepdks](https://github.com/dan-fritchman/Hdl21#pdk-installations-and-sites) module might look like:

```python
CONDA_PREFIX = os.environ.get("CONDA_PREFIX")
model_lib = Path(CONDA_PREFIX) / "share/pdk/sky130A/libs.tech/ngspice/sky130.lib.spice"

import sky130
sky130.install = sky130.Install(model_lib=model_lib)
```

Note the conda-based installation supports simulation solely with [ngspice](https://ngspice.sourceforge.io/). Sky130 models compatible with Sandia Labs' [Xyce](https://xyce.sandia.gov/) have been generated by the community, but are less straightforward to find, install, and revision control.


## Development 

```
pip install -e ".[dev]"
```
